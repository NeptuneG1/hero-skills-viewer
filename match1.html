<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Match Snippet</title>
  <style>
    body {
      font-family: sans-serif;
      background: #111;
      color: #eee;
      padding: 20px;
    }
    .match-header, .bans-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      padding-bottom: 10px;
      border-bottom: 1px solid #444;
    }
    .team {
      font-size: 1.4rem;
      font-weight: bold;
      color: #fca5a5;
    }
    .score {
      font-size: 1.2rem;
    }
    .datetime {
      text-align: center;
      margin: 10px 0;
      color: #ccc;
    }
    .game-row {
      display: flex;
      align-items: center;
      justify-content: space-between;
      margin: 10px 0;
      padding: 10px;
      background: #1e1e1e;
      border-radius: 8px;
    }
    .team-draft {
      display: flex;
      gap: 5px;
    }
    .hero {
      width: 40px;
      height: 40px;
      border-radius: 4px;
      border: 2px solid #333;
    }
    .result {
      font-size: 1.2rem;
      padding: 0 10px;
    }
    .bans-section {
      margin-top: 20px;
    }
    .ban-row {
      display: flex;
      justify-content: space-between;
      align-items: center;
      padding: 6px 0;
      border-top: 1px dotted #444;
    }
    .ban-row span {
      color: #aaa;
      font-size: 0.9rem;
      width: 80px;
    }
  </style>
</head>
<body>
  <div id="match"></div>

  <script>
    const matchData = {
      team1: "O2 Esports",
      team2: "DTE Gaming",
      score: [3, 1],
      date: "March 22, 2025 - 17:15 PHT",
      games: [
        {
          win: "team1",
          time: "13:07",
          team1Draft: ["Biron", "Augran", "Mai Shiranui", "Arli", "Sakeer"],
          team2Draft: ["Sun Ce", "Dun", "Xiao Qiao", "Shouyue", "Cai Yan"]
        },
        {
          win: "team1",
          time: "9:44",
          team1Draft: ["Sun Ce", "Musashi", "Yixing", "Lady Sun", "Dolia"],
          team2Draft: ["Guan Yu", "Feyd", "Yuhuan", "Loong", "Zhang Fei"]
        },
        {
          win: "team2",
          time: "14:01",
          team1Draft: ["Guan Yu", "Agudo", "Yuhuan", "Loong", "Cai Yan"],
          team2Draft: ["Mayene", "Ata", "Shi", "Consort Yu", "Lian Po"]
        },
        {
          win: "team1",
          time: "15:55",
          team1Draft: ["Guan Yu", "Kaizer", "Princess Frost", "Di Renjie", "Liang"],
          team2Draft: ["Charlotte", "Menki", "Yixing", "Marco Polo", "Dyadia"]
        }
      ],
      bans: [
        ["Dolia", "Liang", "Di Renjie", "Lady Sun", "Yuhuan"],
        ["Lady Zhen", "Guan Yu", "Mozi", "Dun", "Dharma"],
        ["Luna", "Menki", "Mai Shiranui", "Augran", "Biron"],
        ["Mayene", "Di Renjie", "Lady Sun", "Arli", "Allain"]
      ]
    };

    const heroMap = {};

    fetch('https://raw.githubusercontent.com/NeptuneG1/hero-skills-viewer/main/data.json')
      .then(res => res.json())
      .then(data => {
        data.forEach(hero => {
          heroMap[hero.Hero] = hero.ImageURL;
        });
        renderMatch();
      });

    function createHeroImg(name) {
      const img = document.createElement('img');
      img.className = 'hero';
      img.src = heroMap[name] || 'https://via.placeholder.com/40x40?text=?';
      img.title = name;
      return img;
    }

    function renderMatch() {
      const container = document.getElementById('match');

      const header = `
        <div class="match-header">
          <div class="team">${matchData.team1}</div>
          <div class="score">${matchData.score[0]} | ${matchData.score[1]}</div>
          <div class="team">${matchData.team2}</div>
        </div>
        <div class="datetime">${matchData.date}</div>
      `;

      container.innerHTML = header;

      matchData.games.forEach((game, index) => {
        const row = document.createElement('div');
        row.className = 'game-row';

        const team1Draft = document.createElement('div');
        team1Draft.className = 'team-draft';
        game.team1Draft.forEach(hero => team1Draft.appendChild(createHeroImg(hero)));

        const result = document.createElement('div');
        result.className = 'result';
        result.textContent = game.win === 'team1' ? '✔️' : '❌';
        result.innerHTML += `<br><span style="font-size: 0.8rem; color: #999">${game.time}</span>`;

        const team2Draft = document.createElement('div');
        team2Draft.className = 'team-draft';
        game.team2Draft.forEach(hero => team2Draft.appendChild(createHeroImg(hero)));

        row.appendChild(team1Draft);
        row.appendChild(result);
        row.appendChild(team2Draft);

        container.appendChild(row);
      });

      const bansHeader = document.createElement('div');
      bansHeader.className = 'bans-header';
      bansHeader.innerHTML = '<h3>Bans</h3><a href="#" style="color:#999;font-size:0.9rem">[hide]</a>';
      container.appendChild(bansHeader);

      matchData.bans.forEach((banSet, i) => {
        const banRow = document.createElement('div');
        banRow.className = 'ban-row';
        const left = document.createElement('div');
        left.className = 'team-draft';
        banSet.slice(0, 5).forEach(hero => left.appendChild(createHeroImg(hero)));

        const right = document.createElement('div');
        right.className = 'team-draft';
        banSet.slice(5).forEach(hero => right.appendChild(createHeroImg(hero)));

        const label = document.createElement('span');
        label.textContent = `Game ${i + 1}`;

        banRow.appendChild(left);
        banRow.appendChild(label);
        banRow.appendChild(right);
        container.appendChild(banRow);
      });
    }
  </script>
</body>
</html>
