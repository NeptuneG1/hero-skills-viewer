<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Hero Skills Viewer</title>
  <style>
    body {
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
      margin: 0;
      padding: 1rem;
      background-color: #121212;
      color: #f0f0f0;
    }
    h1 {
      text-align: center;
      color: #ffffff;
    }
    .filters {
      display: flex;
      justify-content: center;
      flex-wrap: wrap;
      gap: 0.5rem;
      margin-bottom: 1rem;
    }
    .filters input, .filters select {
      padding: 0.5rem;
      background-color: #1e1e1e;
      border: 1px solid #333;
      color: #f0f0f0;
      border-radius: 4px;
    }
    .hero-grid {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
      gap: 1rem;
    }
    .hero-card {
      background: #1e1e1e;
      padding: 1rem;
      border-radius: 1rem;
      box-shadow: 0 2px 10px rgba(0,0,0,0.6);
      transition: transform 0.2s;
      display: flex;
      flex-direction: column;
      align-items: left; /* This aligns content horizontally in the center */
      justify-content: flex-start; /* This aligns content to the top vertically */
      text-align: center;
      height: auto; /* Allow card height to grow based on content */
    }
    
    .hero-image {
      width: 100%;
      max-width: 250px; /* Adjust the maximum width of the image */
      height: auto; /* Maintain aspect ratio */
      border-radius: 1rem;
      margin-bottom: 1rem; /* Space below the image */
    }
    .hero-card:hover {
      transform: scale(1.02);
    }
    .skills {
      margin-top: 1rem;
    }
    .skill {
      display: flex;
      align-items: center;
      margin-bottom: 0.5rem;
    }
    .skill img {
      width: 32px;
      height: 32px;
      margin-right: 0.5rem;
      border-radius: 0.5rem;
    }
    .tooltip {
      position: relative;
      cursor: help;
    }
    .tooltip .tooltiptext {
      visibility: hidden;
      background-color: #333;
      color: #fff;
      text-align: center;
      padding: 0.5rem;
      border-radius: 0.5rem;
      position: absolute;
      z-index: 1;
      bottom: 125%;
      left: 50%;
      transform: translateX(-50%);
      opacity: 0;
      transition: opacity 0.3s;
      width: 200px;
    }
    .tooltip:hover .tooltiptext {
      visibility: visible;
      opacity: 1;
    }
    .lane-icon {
      width: 20px;
      height: 20px;
      margin-left: 5px;
      vertical-align: middle;
    }
  </style>
</head>
<body>
  <h1>Hero Skills Viewer</h1>

  <div class="filters">
    <input type="text" id="searchInput" placeholder="Search hero name..." />
    <select id="roleFilter">
      <option value="">All Roles</option>
      <option value="Marksman">Marksman</option>
      <option value="Mage">Mage</option>
      <option value="Tank">Tank</option>
      <option value="Fighter">Fighter</option>
      <option value="Assassin">Assassin</option>
    </select>
    <select id="laneFilter">
      <option value="">All Lanes</option>
      <option value="Clash Lane">Clash Lane</option>
      <option value="Mid Lane">Mid Lane</option>
      <option value="Farm Lane">Farm Lane</option>
      <option value="Jungling">Jungling</option>
    </select>
  </div>

  <div id="heroContainer" class="hero-grid"></div>

  <script>
    const laneIcons = {
  "Clash Lane": "https://i.imgur.com/0GnwbMx.png",
  "Mid Lane": "https://i.imgur.com/tUxuA3u.png",
  "Farm Lane": "https://i.imgur.com/zE2Oj94.png",
  "Jungling": "https://i.imgur.com/1NU7vWI.png",
  "Unknown": "https://i.imgur.com/EWaF3Ex.png"
};

  const API_URL = "https://raw.githubusercontent.com/NeptuneG1/hero-skills-viewer/main/data.json"; // Update with your raw GitHub URL
  
  async function loadHeroData() {
    try {
      const res = await fetch(API_URL);
      const heroes = await res.json();
      renderHeroes(heroes);
    } catch (err) {
      console.error("Failed to load heroes:", err);
    }
  }
  
  function renderHeroes(heroes) {
    const container = document.getElementById('heroContainer');
    container.innerHTML = '';
  
    const search = document.getElementById('searchInput').value.toLowerCase();
    const role = document.getElementById('roleFilter').value;
    const lane = document.getElementById('laneFilter').value;
  
    const filtered = heroes.filter(hero => {
      return (!search || hero.Hero.toLowerCase().includes(search)) &&
             (!role || hero["Primary Role"]?.includes(role)) &&
             (!lane || hero.Lane?.includes(lane));
    });
  
    filtered.forEach(hero => {
      const laneIcon = laneIcons[hero.Lane] || laneIcons["Unknown"];
      const card = document.createElement('div');
      card.className = 'hero-card';
      card.innerHTML = `
        <img class="hero-image" src="${hero['Image URL'] || 'https://i.imgur.com/kkUX3a3.jpeg'}" alt="${hero.Hero || 'Hero'}">
        <h2>${hero.Hero || 'Unknown Hero'}</h2>
        <p><strong>Role:</strong> ${hero["Primary Role"] || 'Unknown Role'}</p>
        <p><strong>Lane:</strong> 
          <span class="tooltip">
            <img src="${laneIcon}" alt="${hero.Lane}" class="lane-icon">
            <span class="tooltiptext">${hero.Lane || 'Unknown Lane'}</span>
          </span>
        </p>
        <p><strong>Strategy:</strong> ${hero.Strategy || 'No strategy available'}</p>
        <p><strong>Countered By:</strong> ${hero["Countered by"] || 'No counters available'}</p>
        <div class="skills">
          ${renderSkills(hero)}
        </div>
      `;
      container.appendChild(card);
    });
  }
  
  function renderSkills(hero) {
    let skillHTML = '';
    for (let i = 1; i <= 5; i++) {
      const skillName = hero[`SkillName${i}`];
      const skillDesc = hero[`SkillDesc${i}`];
      const skillURL = hero[`SkillURL${i}`];
      if (skillName) {
        skillHTML += `
          <div class="skill tooltip">
            <img src="${skillURL || 'https://i.imgur.com/default-skill.png'}" alt="${skillName}">
            <span>${skillName || `Skill ${i}`}</span>
            <span class="tooltiptext">${skillDesc || 'No description available'}</span>
          </div>
        `;
      }
    }
    return skillHTML || '<p>No skills available</p>';
  }
  
  document.getElementById('searchInput').addEventListener('input', loadHeroData);
  document.getElementById('roleFilter').addEventListener('change', loadHeroData);
  document.getElementById('laneFilter').addEventListener('change', loadHeroData);
  
  window.addEventListener('load', loadHeroData);

  </script>
</body>
</html>
