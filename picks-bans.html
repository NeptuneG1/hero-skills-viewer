<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Hero Draft</title>
  <style>
    body {
      font-family: sans-serif;
      background-color: #2e2e38;
      color: white;
      margin: 0;
      padding: 20px;
    }
    .team-container {
      display: flex;
      justify-content: space-between;
    }
    .team-column {
      width: 48%;
    }
    .team-header {
      font-size: 1.4em;
      margin-bottom: 10px;
    }
    .hero-slot {
      background: #3a3a48;
      padding: 10px;
      border-radius: 8px;
      margin-bottom: 12px;
    }
    select {
      width: 100%;
      padding: 6px;
      border-radius: 4px;
      border: none;
      margin-bottom: 10px;
    }
    .hero-card {
      display: flex;
      gap: 12px;
      align-items: flex-start;
    }
    .hero-image {
      width: 60px;
      height: 60px;
      object-fit: cover;
      border-radius: 6px;
      border: 1px solid #777;
    }
    .hero-details {
      flex: 1;
    }
    .skills span {
      display: inline-block;
      background: #555;
      border-radius: 4px;
      padding: 2px 6px;
      margin: 2px;
      position: relative;
      font-size: 12px;
    }
    .skills span:hover::after {
      content: attr(data-type);
      position: absolute;
      background: black;
      padding: 4px 8px;
      border-radius: 4px;
      top: -28px;
      left: 0;
      white-space: nowrap;
      z-index: 10;
    }
  </style>
</head>
<body>

  <h1>Hero Draft</h1>

  <div class="team-container">
    <div class="team-column" id="left-team">
      <div class="team-header">Left Team</div>
    </div>
    <div class="team-column" id="right-team">
      <div class="team-header">Right Team</div>
    </div>
  </div>

  <script>
    const heroDataUrl = 'https://raw.githubusercontent.com/NeptuneG1/hero-skills-viewer/main/data.json';
    const NUM_SLOTS = 5;

    async function init() {
      const res = await fetch(heroDataUrl);
      const heroes = await res.json();

      const heroMap = {};
      heroes.forEach(h => heroMap[h.Hero] = h);

      const left = document.getElementById("left-team");
      const right = document.getElementById("right-team");

      for (let i = 0; i < NUM_SLOTS; i++) {
        addHeroSlot(left, `left-${i}`, heroes, heroMap);
        addHeroSlot(right, `right-${i}`, heroes, heroMap);
      }
    }

    function addHeroSlot(container, id, heroList, heroMap) {
      const wrapper = document.createElement("div");
      wrapper.className = "hero-slot";
      wrapper.innerHTML = `
        <select id="select-${id}">
          <option value="">Select Hero...</option>
          ${heroList.map(h => `<option value="${h.Hero}">${h.Hero}</option>`).join('')}
        </select>
        <div id="card-${id}"></div>
      `;
      container.appendChild(wrapper);

      document.getElementById(`select-${id}`).addEventListener("change", e => {
        const heroName = e.target.value;
        const hero = heroMap[heroName];
        const card = document.getElementById(`card-${id}`);
        if (hero) {
          card.innerHTML = renderHeroCard(hero);
        } else {
          card.innerHTML = "";
        }
      });
    }

    function renderHeroCard(hero) {
      const skillTags = ['Passive', 'Skill1', 'Skill2', 'ULT'];
      const skillHtml = skillTags.map(type => {
        const skillName = hero[type] || 'â€”';
        return `<span data-type="${type}">${skillName}</span>`;
      }).join('');

      return `
        <div class="hero-card">
          <img class="hero-image" src="${hero['Image URL']}" alt="${hero.Hero}">
          <div class="hero-details">
            <strong>${hero.Hero}</strong><br>
            <div><strong>Role:</strong> ${hero["Primary Role"]}</div>
            <div><strong>Lane:</strong> ${hero.Lane}</div>
            <div><strong>Specialty:</strong> ${hero.Specialty}</div>
            <div class="skills">${skillHtml}</div>
          </div>
        </div>
      `;
    }

    init();
  </script>

</body>
</html>
